<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Allert's Portfolio</title>
  <!-- Lexend font -->
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@500&display=swap" rel="stylesheet">
  <style>
    /* Algemene reset en styling */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      cursor: none;
    }

    html,
    body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: 'Lexend', sans-serif;
      background-size: cover;
      background-position: center;
      position: relative;
    }

    /* Tekststijl */
    .info,
    .category {
      color: black;
      font-size: 2rem;
      position: absolute;
      padding: 16px;
    }

    .info {
      bottom: 0;
      left: 0;
      text-align: left;
    }

    /* Tijdweergave */
    #time {
      display: block;
    }

    /* Logo's */
    .logo {
      position: absolute;
      top: 0;
      padding: 16px;
      height: 48px;
    }

    .logo.left {
      left: 0;
    }

    .logo.center {
      left: 50%;
      transform: translateX(-50%);
    }

    .logo.right {
      right: 0;
    }

    /* Categorieknop */
    .category {
      bottom: 0;
      right: 0;
      display: inline-flex;
      align-items: center;
      border: 2px solid black;
      border-radius: 9999px;
      background-color: transparent;
      cursor: pointer;
      padding: 8px 16px;
      margin: 16px;
      white-space: nowrap;
    }

    .category.active {
      background-color: black;
      color: white;
    }

    .category .close {
      margin-left: 8px;
      font-size: 2rem;
      line-height: 1;
      display: inline-block;
    }

    @media (max-width: 768px) {
      .info,
      .category {
        font-size: 1.4rem;
      }
    }
  </style>
</head>

<body>
  <!-- Logo's -->
  <img src="logo-left.svg" class="logo left" />
  <img src="logo-center.svg" class="logo center" />
  <img src="logo-right.svg" class="logo right" />

  <!-- Info linksonder -->
  <div class="info">
    <div>Allert</div>
    <div>mail@example.com</div>
    <div>@gebruikersnaam</div>
    <div>Amsterdam</div>
    <div id="time">--:--:--</div>
  </div>

  <!-- Categorie rechtsonder -->
  <div id="categoryButton" class="category"></div>

  <script>
    // Foto-informatie
    const photos = [
      { name: 'photo1', category: 'landschap', filterOnly: false },
      { name: 'photo2', category: 'portret', filterOnly: false },
      { name: 'photo3', category: 'details', filterOnly: true },
      { name: 'photo4', category: 'details', filterOnly: true },
    ];

    let currentIndex = -1;
    let currentCategory = null;
    let lastRandomIndex = -1;

    const isMobile = () => window.innerWidth <= 768;

    function getImagePath(name) {
      return `images/${name}-${isMobile() ? 'portrait' : 'landscape'}.jpg`;
    }

    function getFilteredPhotos() {
      return currentCategory
        ? photos.filter(p => p.category === currentCategory)
        : photos.filter(p => !p.filterOnly);
    }

    function setBackground(index) {
      const filtered = getFilteredPhotos();
      const photo = filtered[index];
      document.body.style.backgroundImage = `url('${getImagePath(photo.name)}')`;
      currentIndex = index;
      updateCategoryButton(photo.category);
    }

    function loadRandomPhoto() {
      const filtered = getFilteredPhotos();
      if (filtered.length <= 1) return setBackground(0);

      let index;
      do {
        index = Math.floor(Math.random() * filtered.length);
      } while (index === lastRandomIndex);

      lastRandomIndex = index;
      setBackground(index);
    }

    function showNextPhoto() {
      const filtered = getFilteredPhotos();
      setBackground((currentIndex + 1) % filtered.length);
    }

    function showPrevPhoto() {
      const filtered = getFilteredPhotos();
      setBackground((currentIndex - 1 + filtered.length) % filtered.length);
    }

    // Categorieknop rechtsonder
    const categoryBtn = document.getElementById('categoryButton');

    function updateCategoryButton(category) {
      categoryBtn.innerHTML = category;
      categoryBtn.classList.remove('active');

      if (currentCategory === category) {
        categoryBtn.classList.add('active');
        categoryBtn.innerHTML = `${category}<span class="close">Ã—</span>`;
      }
    }

    categoryBtn.addEventListener('click', () => {
      if (!getFilteredPhotos().length) return;
      const current = getFilteredPhotos()[currentIndex];

      if (currentCategory === current.category) {
        currentCategory = null;
      } else {
        currentCategory = current.category;
      }

      loadRandomPhoto();
    });

    // Cursor styling
    document.addEventListener('mousemove', (e) => {
      const x = e.clientX;
      const cursor = document.createElement('div');
      cursor.style.position = 'fixed';
      cursor.style.top = `${e.clientY}px`;
      cursor.style.left = `${x}px`;
      cursor.style.width = '16px';
      cursor.style.height = '16px';
      cursor.style.backgroundImage = `url('${x < window.innerWidth / 2 ? 'cursor-left.png' : 'cursor-right.png'}')`;
      cursor.style.pointerEvents = 'none';
      cursor.style.zIndex = '9999';
      cursor.id = 'custom-cursor';
      document.body.style.cursor = 'none';

      const oldCursor = document.getElementById('custom-cursor');
      if (oldCursor) oldCursor.remove();
      document.body.appendChild(cursor);
    });

    // Klik links/rechts
    document.addEventListener('click', (e) => {
      const x = e.clientX;
      if (x < window.innerWidth / 2) {
        showPrevPhoto();
      } else {
        showNextPhoto();
      }
    });

    // Tijd bijwerken
    function updateTime() {
      const now = new Date();
      document.getElementById('time').textContent =
        now.toLocaleTimeString('nl-NL', { hour12: false });
    }
    setInterval(updateTime, 1000);
    updateTime();

    // Initieel laden
    window.addEventListener('load', loadRandomPhoto);
    window.addEventListener('resize', () => setBackground(currentIndex));
  </script>
</body>

</html>
